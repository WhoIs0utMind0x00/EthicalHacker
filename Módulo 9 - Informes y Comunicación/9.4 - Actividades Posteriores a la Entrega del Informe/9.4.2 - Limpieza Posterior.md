# 9.4.2 - Limpieza Posterior a la Interacción
Digamos que ha completado todas las fases de una prueba de penetración. Lo que haga a continuación es muy importante para el éxito del compromiso. A lo largo de las fases de prueba, es probable que haya utilizado muchas herramientas y técnicas diferentes para recopilar información, descubrir vulnerabilidades y quizás aprovechar los sistemas bajo prueba. Estas herramientas pueden causar y muy probablemente causarán efectos residuales en los sistemas que ha estado probando.<br>
Digamos, por ejemplo, que ha completado una prueba de penetración de aplicaciones web y ha utilizado un escáner de vulnerabilidades web automatizado en su proceso de prueba. Este tipo de herramientas está diseñada para detectar problemas como la validación de entrada y la inyección SQL. Para identificar este tipo de fallas, el escáner automatizado debe ingresar información en los campos que está probando. La entrada puede ser datos falsos o incluso scripts maliciosos. A medida que se ingresa esta información, es probable que ingrese en la base de datos que admite la aplicación web que está probando. Una vez finalizada la prueba, es necesario limpiar esa información de la base de datos. La mejor opción para esto suele ser revertir o restaurar la base de datos a un estado anterior. Por eso se sugiere realizar la prueba en un entorno de preparación cuando sea posible. Este es solo un ejemplo de una tarea de limpieza que debe realizarse al final de un compromiso de prueba de penetración.<br>
Otro ejemplo común de limpieza necesaria es el resultado de cualquier explotación de las máquinas cliente. Supongamos que busca obtener acceso de ambiente a un sistema de Windows que considera vulnerable a desbordamiento de búfer que conduce a la ejecución remota de código. Por supuesto, cuando descubre que esta máquina es probablemente vulnerable, se entusiasma porque sabe que el marco de Metasploit tiene un módulo que le permitirá aprovechar fácilmente la vulnerabilidad y le dará un _ambiente root_ en el sistema. Ejecuta la explotación, pero obtiene un mensaje de error que no se completó y que puede ser necesaria una limpieza. La mayoría de las veces, el mensaje de error indica qué archivos debe limpiar. Sin embargo, es posible que no lo haga y, si no lo hace, debe consultar el código del módulo específico para determinar qué archivos debe limpiar. Muchas herramientas pueden dejar archivos o datos residuales que debe asegurarse de limpiar de los sistemas de destino después de que se completen las fases de un compromiso de prueba de penetración. También es muy importante que el cliente o el propietario del sistema validen que sus esfuerzos de limpieza son suficientes. Esto no siempre es fácil de lograr, pero proporcionar una lista completa de las actividades realizadas en cualquier sistema bajo prueba ayudará con esto.<br>
Los siguientes son algunos ejemplos de los elementos que querrá asegurarse de limpiar de los sistemas:<br>

+ __Credenciales creadas por el evaluador:__ Elimine cualquier cuenta de usuario que haya creado para mantener el acceso persistente o para cualquier otra actividad posterior a la explotación.
+ __Ambientes:__ Elimina los ambientes generados en sistemas explotados.
+ __Herramientas:__ Elimine cualquier herramienta instalada o ejecutada de los sistemas bajo prueba.<br>