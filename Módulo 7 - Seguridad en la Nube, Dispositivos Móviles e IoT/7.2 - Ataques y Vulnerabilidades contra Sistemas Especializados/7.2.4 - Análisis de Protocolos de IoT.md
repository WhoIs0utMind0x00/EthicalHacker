# 7.2.4 - Análisis de Protocolos de IoT
El análisis de los protocolos de IoT es importante para tareas como el reconocimiento y la explotación. Por otro lado, en el mundo de IoT, con frecuencia encontrará protocolos de red personalizados, patentados o nuevos. Algunos de los protocolos de red más comunes para las implementaciones de IoT incluyen los siguientes:<br>
- Wi-Fi
- Bluetooth y Bluetooth de Baja Energía (BLE)
- ZigBee
- Z-Wave
- LoraWAN
- Insteon
- Modbus
- Siemens s7comm (Comunicación s7)<br>

Por ejemplo, **_Bluetooth de Baja Energía (BLE)_** se utiliza en dispositivos domésticos de IoT y equipos médicos, industriales y gubernamentales. Puede analizar protocolos como BLE mediante el uso de antenas y equipos especializados, como [Ubertooth One](https://greatscottgadgets.com/ubertoothone/). BLE implica un proceso de tres fases para establecer una conexión:<br>

__Fase 1.__ Intercambio de funciones de emparejamiento<br>
__Fase 2.__ Generación de claves a corto plazo<br>
__Fase 3.__ Distribución de claves específicas del transporte<br>

BLE implementa varias funciones criptográficas. Admite AES para el intercambio de cifrado y distribución de claves para compartir diferentes claves entre los dispositivos habilitados para BLE. Sin embargo, muchos dispositivos que admiten BLE ni siquiera implementan el cifrado de capa BLE. Además, las aplicaciones móviles no pueden controlar el emparejamiento, debido a que se realiza a nivel del sistema operativo. Los atacantes pueden escanear dispositivos BLE o escuchar anuncios de BLE y aprovechar estas configuraciones incorrectas. Luego pueden anunciar dispositivos BLE clonados/falsos y realizar ataques en ruta (anteriormente conocidos como Man-in-the-Middle).<br>
En algunos casos, los protocolos personalizados o exclusivos de IoT pueden ser difíciles. Incluso si puede capturar el tráfico de red, los analizadores de paquetes como Wireshark a menudo no pueden identificar lo que ha encontrado. A veces, necesita escribir nuevas herramientas para comunicarse con los dispositivos de IoT.<br>
__CONSEJO__: Se pueden usar herramientas como [GATTacker](https://github.com/securing/gattacker) para realizar ataques en ruta en implementaciones de BLE. También [BtleJuice](https://github.com/DigitalSecurity/BtleJuice) que es un marco para realizar la intercepción y manipulación del tráfico de BLE.<br>