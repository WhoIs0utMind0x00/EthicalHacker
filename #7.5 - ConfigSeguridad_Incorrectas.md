# Descripción General
En esta parte, nos centramos en la configuración incorrecta de los servicios web que generan vulnerabilidades de seguridad. Estas vulnerabilidades podrían deberse a algo simple, como el uso de valores predeterminados conocidos en la configuración de un servidor, incluidas las contraseñas predeterminadas. Las configuraciones incorrectas pueden ser algo un poco más complejo, como permitir que los visitantes del sitio web naveguen desde la raíz de un servidor web a otras partes del servidor o sistema de archivos del sistema operativo que podrían almacenar información confidencial. Los atacantes pueden aprovechar las configuraciones incorrectas de seguridad, incluidas las vulnerabilidades de recorrido de directorios y la manipulación de cookies.<br>

## Explotando Vulnerabilidades de Recorrido de Directorios
Una vulnerabilidad de **_recorrido de directorios_** (a menudo conocida como **_recorrido de rutas_**) puede permitir a los atacantes acceder a archivos y directorios que se encuentran fuera de la carpeta raíz del servidor web.<br>
__NOTA__: El recorrido de directorios tiene muchos nombres, incluidos **_punto-punto-barra_**, **_escalado de directorio_** y **_retroceso_**.<br>

Es posible explotar vulnerabilidades de recorrido de directorios manipulando variables que hacen referencia a archivos con la secuencia punto-punto-barra (__../__) y sus variaciones, o utilizando rutas de archivos absolutas para acceder a archivos en el sistema vulnerable. Un atacante puede obtener información crítica y confidencial al explotar las vulnerabilidades del recorrido de directorios.<br>

**_Explotando una Vulnerabilidad de Recorrido de Directorios_**<br>

<img src="Imagenes/Recorrido.png" width="75%" height="75%" style="border-radius:10px;"><br>

La imagen muestra la siguiente URL siendo utilizada:

```
    http://192.168.78.8:66/vulnerabilities/fi/?page=../../../../../etc/passwd
```

La aplicación vulnerable muestra el contenido del archivo __etc/passwd__ al atacante.<br>
Es posible utilizar la codificación de URl, como se demuestra en el siguiente ejemplo, para explotar la vulnerabilidades de recorrido de directorios:<br>

- __%2e%2e%2f__ es lo mismo que __../__
- __%2e%2e/__ es lo mismo que __../__
- __..%2f__ es lo mismo que __../__
- __%2e%2e%5c__ es lo mismo que __..__<br>

Un atacante también puede utilizar otras combinaciones de codificación, por ejemplo, estructuras de rutas específicas del sistema operativo, como __/__ en sistemas Linux o MacOS y en Windows.<br>
A continuación, se presentan algunos procedimientos recomendados para prevenir y mitigar las vulnerabilidades de recorrido de directorios:<br>
- Comprender cómo procesa el sistema operativo subyacente los nombres de archivo proporcionados por un usuario o una aplicación.
- Nunca almacene archivos de configuración confidenciales dentro del directorio raíz del servidor web.
- Prevenga la entrada de usuarios al usar llamadas al sistema de archivos.
- Evitar que los usuarios proporcionen todas las partes de la ruta. Puede hacerlo rodeando la entrada del usuario con su código de ruta.
- Realice la validación de entrada aceptando solo entradas válidas conocidas.<br>

## Ataques de Manipulación de Cookies
Los _ataques de manipulación de cookies_ a menudo se denominan **_ataques (o vulnerabilidades) basados en DOM almacenado_**. La manipulación de cookies es posible cuando las aplicaciones vulnerables almacenan la entrada del usuario y luego incrusta esa entrada en una respuesta dentro de una parte del DOM. Esta entrada luego se procesa de manera insegura por un script del lado del cliente. Un atacante puede usar una cadena de JavaScript (u otros scripts) para activar la vulnerabilidad basada en DOM. Estos scripts pueden escribir datos controlables en el valor de una cookie.<br>
Un atacante puede explotar las vulnerabilidades almacenadas basadas en DOM para crear una URL que establece un valor arbitrario en la cookie de un usuario.<br>
__NOTA__: El impacto de una vulnerabilidad basada en DOM almacenado depende de la función que desempeña la cookie dentro de la aplicación.<br>
__CONSEJO__: Una mejor práctica para evitar ataques de manipulación de cookies es evitar la escritura dinámica en cookies condatos que se originan de fuentes no confiables.<br>
