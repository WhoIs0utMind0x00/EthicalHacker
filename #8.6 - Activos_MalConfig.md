# Ataques contra Activos en la Nube Mal Configurados
Los atacantes pueden aprovechar los activos en la nube mal configurados de varias maneras.<br>

### Implementación de Gestión de Identidad y Acceso (IAM)
Las soluciones de IAM se utilizan para administrar la autenticación y autorización de usuarios y aplicaciones. Las características clave de IAM incluyen SSO, autenticación multifactor y aprovisionamiento de usuarios y administración del ciclo de vida. Si un atacante puede manipular una solución de IAM basada en la nube en un entorno IaaS o PaaS, podría ser catastrófico para el consumidor de la nube (es decir, la organización que desarrolla, implementa y consume aplicaciones en la nube).<br>

### Errores de configuración de la federación
La autenticación federada (o identidad federada) es un método para asociar la identidad de un usuario en diferentes sistema de administración de identidades. Por ejemplo, cada vez que accede a un sitio web, una aplicación web o una aplicación móvil que le permite iniciar sesión o registrarse en su cuenta de Facebook, Google o Twitter, esa aplicación utiliza la autenticación federada.<br>
A menudo, los desarrolladores de aplicaciones configuran incorrectamente la implementación de los protocolos subyacentes utilizados en un entorno de identidad federada. Por ejemplo, una aserción de SAML, es decir, el documento XML que el proveedor de identidad envía al proveedor de servicios que contiene la autorización del usuario, debe contener un ID único que la aplicación acepta solo una vez. Si no configura su aplicación de está manera, un atacante podría reproducir un mensaje de SAML para crear varias sesiones. Los atacantes también pueden cambiar la fecha de vencimiento de un mensaje de SAML vencido para que vuelva a ser válido o cambiar la ID de usuario a un usuario válido diferente. En algunos casos, una aplicación podría otorgar permisos predeterminados o permisos superiores a un usuario no asignado. Posteriormente, si un atacante cambia la ID de usuario a un usuario no válido, la aplicación podría ser engañada para que dé acceso al recurso específico.<br>
Además, su aplicación puede usar tokens de seguridad como JSON Web Token (JWT) y aserciones de SAML para asociar permisos de una plataforma a otra. Un atacante podría robar dichos tokens y aprovechar entornos mal configurados para acceder a datos y recursos confidenciales.<br>

### Almacenamiento de objetos
Las configuraciones de permisos inseguras para los servicios de almacenamiento de objetos en la nube, como los depósitos de AWS S3 de Amazon, suelen ser la causa de violaciones de datos.<br>
__CONSEJO__: Omar Santos ha incluido varias herramientas que pueden usarse para escanear depósitos de S3 no seguros en su repositorio de GitHub, en *https://github.com/The-Art-of-Hacking/h4cker/tree/master/cloud_resources*.<br>

### Tecnologías de contenerización
Los ataques contra las implementaciones basadas en contenedores (como Docker, Rocket, LXC y containerd) han provocado violaciones masivas de datos. Por ejemplo, puede obtener la información pasivamente de [Shodan](shodan.io) o ejecutar análisis de reconocimiento activos para encontrar implementaciones en la nube que expongan ampliamente el daemon de Docker o los elementos de Kubernetes a Internet. A menudo, los atacantes utilizan credenciales robadas o vulnerabilidades conocidas para comprometer las aplicaciones basadas en la nube. De manera similar, los atacantes usan métodos como la suplantación por error tipográfico (typosquatting) para crear contenedeores maliciosos y publicarlos en Docker Hub. Este ataque, que puede considerarse un ataque a la cadena de suministro, puede ser muy eficaz. Por ejemplo, podría descargar la imagen base para NGINX o Apache HTTPd desde Docker Hub, y esa imagen de Docker podría incluir una puerta trasera que el atacante puede usar para manipular sus aplicaciones y sistemas subyacentes.<br>
__NOTA__: El **_Typosquatting_** es una técnica que aprovecha el error humano al escribir URL en un navegador web o al acceder a otros recursos.<br>