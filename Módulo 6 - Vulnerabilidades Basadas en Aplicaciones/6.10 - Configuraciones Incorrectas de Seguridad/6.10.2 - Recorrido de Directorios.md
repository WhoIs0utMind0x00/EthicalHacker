# 6.10.2 - Explotando Vulnerabilidades de Recorrido de Directorios
Una vulnerabilidad de **_recorrido de directorios_** (a menudo conocida como **_recorrido de rutas_**) puede permitir a los atacantes acceder a archivos y directorios que se encuentran fuera de la carpeta raíz del servidor web.<br>
__NOTA__: El recorrido de directorios tiene muchos nombres, incluidos **_punto-punto-barra_**, **_escalado de directorio_** y **_retroceso_**.<br>

Es posible explotar vulnerabilidades de recorrido de directorios manipulando variables que hacen referencia a archivos con la secuencia punto-punto-barra (__../__) y sus variaciones, o utilizando rutas de archivos absolutas para acceder a archivos en el sistema vulnerable. Un atacante puede obtener información crítica y confidencial al explotar las vulnerabilidades del recorrido de directorios.<br>

**_Explotando una Vulnerabilidad de Recorrido de Directorios_**<br>

<img src="img/Recorrido.png" width="75%" height="75%" style="border-radius:10px;"><br>

La imagen muestra la siguiente URL siendo utilizada:

```
    http://192.168.78.8:66/vulnerabilities/fi/?page=../../../../../etc/passwd
```

La aplicación vulnerable muestra el contenido del archivo __etc/passwd__ al atacante.<br>
Es posible utilizar la codificación de URl, como se demuestra en el siguiente ejemplo, para explotar la vulnerabilidades de recorrido de directorios:<br>

- __%2e%2e%2f__ es lo mismo que __../__
- __%2e%2e/__ es lo mismo que __../__
- __..%2f__ es lo mismo que __../__
- __%2e%2e%5c__ es lo mismo que __..__<br>

Un atacante también puede utilizar otras combinaciones de codificación, por ejemplo, estructuras de rutas específicas del sistema operativo, como __/__ en sistemas Linux o MacOS y en Windows.<br>
A continuación, se presentan algunos procedimientos recomendados para prevenir y mitigar las vulnerabilidades de recorrido de directorios:<br>
- Comprender cómo procesa el sistema operativo subyacente los nombres de archivo proporcionados por un usuario o una aplicación.
- Nunca almacene archivos de configuración confidenciales dentro del directorio raíz del servidor web.
- Prevenga la entrada de usuarios al usar llamadas al sistema de archivos.
- Evitar que los usuarios proporcionen todas las partes de la ruta. Puede hacerlo rodeando la entrada del usuario con su código de ruta.
- Realice la validación de entrada aceptando solo entradas válidas conocidas.<br>


