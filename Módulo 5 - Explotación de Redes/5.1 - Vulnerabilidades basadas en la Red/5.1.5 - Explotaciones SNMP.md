# Explotaciones de SNMP
El protocolo simple de administración de redes (SNMP) es un protocolo que muchas personas y organizaciones utilizan para administrar dispositivos de red. SNMP utiliza el puerto UDP 161. En las implementaciones de SNMP, cada dispositivo de red contiene un agente SNMP que se conecta con un servidor SNMP independiente (también conocido como administrador SNMP). Un administrador puede utilizar SNMP para obtener información sobre el estado y la configuración de un dispositivo de red, para cambiar la configuración y realizar otras tareas administrativas. Como puede imaginar, esto es muy atractivo para los atacantes porque pueden aprovechar las vulnerabilidades de SNMP para realizar acciones similares de manera maliciosa.<br>
Hay varias versiones de SNMP: Las dos versiones más populares en la actualidad son SNMPv2c y SNMPv3. SNMPv2c utiliza cadenas de comunidad, que son contraseñas que se aplican a un dispositivo de red para permitir que un administrador restrinja el acceso al dispositivo de dos maneras: proporcionando acceso de solo lectura o de lectura/escritura.<br>
La información administrada del dispositivo se mantiene en una base de datos denominada _Base de información de administración (MIB)_.<br>
Un ataque SNMP común implica que un atacante enumere los servicios SNMP y luego verifique las contraseñas SNMP predeterminadas configuradas. Desafortunadamente, este es uno de los principales defectos de muchas implementaciones porque muchos usuarios dejan credenciales SNMP débiles o predeterminadas en los dispositivos de red. SNMPv3 utiliza nombres de usuario y contraseñas y es más seguro que todas las versiones anteriores de SNMP. Sin embargo, los atacantes aún pueden realizar ataques de diccionario y de fuerza bruta contra las implementaciones de SNMPv3. Una implementación más moderna y de seguridad implica el uso de NETCONF con dispositivos de infraestructura más nuevos (como enrutadores y conmutadores).<br>
Puede aprovechar los scripts del motor de scripts de Nmap (NSE) para recopilar información de dispositivos habilitados para SNMP y forzar credenciales débiles. En Kali Linux, los scripts de NSE se encuentran en _/usr/share/nmap/scripts_ de manera predeterminada.
<!-- cd /usr/share/nmap/scripts -->
<!--  ls -l snmp* -->
```bash
┌──(kali㉿Kali)-[/usr/share/nmap/scripts]
└─$ ls -l snmp*
-rw-r--r-- 1 root root  7816 Jun  1  2023 snmp-brute.nse
-rw-r--r-- 1 root root  4388 Jun  1  2023 snmp-hh3c-logins.nse
-rw-r--r-- 1 root root  5216 Jun  1  2023 snmp-info.nse
-rw-r--r-- 1 root root 28644 Jun  1  2023 snmp-interfaces.nse
-rw-r--r-- 1 root root  5978 Jun  1  2023 snmp-ios-config.nse
-rw-r--r-- 1 root root  4156 Jun  1  2023 snmp-netstat.nse
-rw-r--r-- 1 root root  4431 Jun  1  2023 snmp-processes.nse
-rw-r--r-- 1 root root  1857 Jun  1  2023 snmp-sysdescr.nse
-rw-r--r-- 1 root root  2570 Jun  1  2023 snmp-win32-services.nse
-rw-r--r-- 1 root root  2739 Jun  1  2023 snmp-win32-shares.nse
-rw-r--r-- 1 root root  4713 Jun  1  2023 snmp-win32-software.nse
-rw-r--r-- 1 root root  2016 Jun  1  2023 snmp-win32-users.nse
 ```
 Además de los scripts de NSE, puede utilizar la herramienta __snmp-check__ para realizar un _SNMP walk_ a fin de recopilar información sobre los dispositivos configurados para SNMP.

 






