# Ataques DoS y DDoS
Los ataques de denegación de servicio (DoS) y Dos distribuidos (DDoS) existen desde hace bastante tiempo, pero en los últimos años se ha producido una mayor conciencia sobre ellos. Los ataques de DoS generalmente se pueden dividir en categorías, que se describen en las siguientes secciones.<br>
## Ataques DoS directos
Un ataque directo de DoS se produce cuando el origen del ataque genera los paquetes, independientemente del protocolo, la aplicación, etc., que se envían directamente a la víctima del ataque.<br>

<img src="./img/DoS_directo.jpeg" width="35%" height="35%" style="border-radius:10px;"><br>

El atacante lanza un ataque DoS directo a un servidor web (la víctima) enviando numerosos paquetes TCP SYN. Este tipo de ataque tiene como objetivo inundar a la víctima con una cantidad abrumadora de paquetes para saturar el ancho de banda de su conexión o agotar los recursos del sistema objetivo. Este tipo de atque también se conoce como _ataque de inundación SYN_.<br>
Los ciberdelincuentes también pueden utilizar ataques DoS y DDoS para generar costos adicionales para la víctima cuando la víctima utiliza servicios en la nube. En la mayoría de los casos, cuando utiliza un servicio en la nube, como Amazon Web Services (AWS), Microsoft Azure o Digital Ocean, paga por uso. Los atacantes pueden lanzar ataques DDoS para hacer que pague más por el uso y los recursos.
Otro tipo de ataque de DoS implica la explotación de vulnerabilidades, como los desbordamientos del búfer, para provocar el bloqueo de un servidor o incluso un dispositvo de infraestructura de red, lo que posteriormente causa una condición de DoS.<br>
Como evaluador de penetración, es posible que tenga la tarea de realizar diferentes tipos de _pruebas de esfuerzo de disponibilidad_ y demostrar cómo un ataque DDoS puede afectar un sistema o una red. En la mayoría de los casos, esos tipos de prueba de esfuerzo se realizan en un entorno controlado y, por lo general, están fuera del alcance en los sistemas de producción.<br>

## Botnet
Muchos atacantes utilizan botnets (redes de bots) para lanzar ataques de DDoS. Un _botnet_ es un conjunto de máquinas comprometidas que el atacante puede manipular desde un sistema de comando y control (CnC o C2) para participar en un ataque de DDoS, enviar correos electrónicos no deseados o realizar otras actividades ilícitas. La botnet está compuesta por terminales de usuario comprometidos (computadoras portátiles), enrutadores inalámbricos domésticos y dispositivos de Internet de las cosas (IoT), como cámaras IP.<br>

<img src="./img/botnet.jpeg" width="35%" height="35%" style="border-radius:10px;"><br>

El atacante envía instrucciones al C2; posteriormente, el C2 envía instrucciones a los bots dentro de la botnet para lanzar el ataque DDoS contra el servidor víctima.<br>

## Ataques DoS y DDoS reflejados
Con los ataques DoS y DDoS reflejados, los atacantes envían a las fuentes paquetes falsos que parecen ser de la víctima y, luego, las fuentes se vuelven participantes involuntarios en el ataque reflejado al enviar el tráfico de respuesta a la víctima prevista. UDP se usa a menudo como mecanismo de transporte en tales ataques porque se falsifica más fácilmente debido a la falta de un protocolo de enlace de tres vías. Por ejemplo, si el atacante decide que quiere atacar a una víctima, puede enviar paquetes (por ejemplo, solicitudes de Network Time Protocol [NTP]) a una fuente que crea que estos paquetes son legítimos. La fuente luego responde a las solicitudes de NTP de la fuente.<br>

<img src="./img/DDoS_ref.jpeg" width="35%" height="35%" style="border-radius:10px;"><br>

El atacante envía un paquete al host A, la dirección IP de origen es la dirección IP de la víctima (10.1.2.3) y la dirección IP de destino es la dirección IP del host A (10.1.1.8). Posteriormente, el host A envía un paquete no deseado a la víctima. Si el atacante continúa enviando este tipo de paquetes, el host A no solo inunda a la víctima, sino que la víctima también puede responder con paquetes innecesarios, lo que consume ancho de banda y recursos.<br>

## Ataques DDoS de amplificación
Un ataque de amplificación es una forma de ataque de DoS  reflejado en el que el tráfico de respuesta (enviado por el participante involuntario) está compuesto por paquetes que son mucho más grandes que los enviados inicialmente por el atacante (falsificando a la víctima). Un ejemplo de este tipo de ataque es un atacante que envía consultas DNS a un servidor DNS abierto. Luego, el servidor DNS responde con tamaño de paquete mucho mayor que los paquetes de consulta iniciales. El resultado final es que la víctima se ve inundada por paquetes grandes para los que nunca emitió consultas.<br>

<img src="./img/DoS_amp.jpeg" width="35%" height="35%" style="border-radius:10px;">