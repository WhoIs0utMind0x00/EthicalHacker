# 3.2.1 - Descripción General
Como parte del proceso de recopilación de información en pruebas de penetración, participará en el reconocimiento activo de la red interna de Pixel Paradise. Esto es lo que sabemos sobre la red:<br>
- __Terminales de usuario__: Equipos de escritorio, portátiles, móviles y consolas de videojuegos utilizados por los empleados.
- __Terminales relacionados con las instalaciones__: Cámaras de vigilancia, un sistema de alarma, sensores y actuadores de control de clima, sistemas de control de iluminación y sistemas VoIP.
- __Dispositivos intermedios__: Enrutadores y conmutadores que conectan terminales y otras redes.
- __Puntos de acceso inalámbricos__: Dispositivos que proporcionan acceso Wi-Fi a los empleados.
- __Cortafuegos__: Dispositivos que protegen la red de amenazas externas y acceso no autorizado.
- __Servidores__: Servidores en las instalaciones que proporcionan almacenamiento de archivos, acceso a bases de datos y otros servicios, como correo electrónico.
- __Infraestructura de la nube__: Amazon Web Services<br>
<hr>

### Reconocimiento Activo
Como se mencionó anteriormente en este módulo, con cada paso de la fase de recopilación de información, el objetivo es recopilar información adicional sobre el objetivo. El proceso de recopilación de esta información se denomina _enumeración_. Entonces, hablemos sobre el tipo de enumeración que normalmente haría en una prueba de penetración. En un ejemplo anterior, observamos la enumeración de hosts expuestos a Internet de h4cker.org. La enumeración externa de hosts suele ser una de las primeras cosas que hace en una prueba de penetración. Determinar los hosts conectados a Internet de una red de destino puede ayudarlo a identificar los sistemas más expuestos. Obviamente, un dispositivo al que se puede acceder públicamente a través de Internet está abierto a ataques de agentes maliciosos en todo el mundo. Después de identificar esos sistemas, debe identificar qué servicios son accesibles. Un servidor debe estar detrás de un cortafuegos, lo que permite una exposición mínima a los servicios que ejecuta. Sin embargo, a veces, se exponen servicios inesperados. Para determinar si una red está ejecutando alguno de estos servicios, puede ejecutar un escaneo de puertos para enumerar los servicios que se ejecuten en los hosts expuestos.<br>

### Escaneo de puertos
Un **_escaneo de puertos_** es un escaneo activo en el que la herramienta de escaneo envía varios tipos de sondeos a la dirección IP de destino y luego examina las respuestas para determinar si el servicio realmente está escuchando. Por ejemplo, con un escaneo SYN de Nmap, la herramienta envía un paquete TCP SYN al puerto TCP que está probando. Este proceso también se denomina escaneo semiabierto porque no abre una conexión TCP completa. Si la respuesta es un SYN / ACK, esto indicaría que el puerto está realmente en estado de escucha. Si la respuesta al paquete SYN es un RST (restablecimiento), esto indicaría que el puerto está cerrado o no está en estado de escucha. Si la sonda SYN no recibe ninguna respuesta, Nmap la marca como filtrada porque no puede determinar si el puerto está abierto o cerrado. La siguiente tabla define las respuestas del escaneo SYN cuando se utiliza Nmap.<br>

| Estado del puerto     | Respuesta del Objetivo                                | Análisis de Nmap                              |
|-----------------------|-------------------------------------------------------|-----------------------------------------------|
| Abierto               | TCP SYN / ACK                                         | El servicio está escuchando en el puerto      |
| Cerrado               | TCP RST                                               | El servicio no está escuchando en el puerto   |
| Filtrado              | Sin respuesta del objetivo o destino ICMP inaccesible | El puerto está protegido con cortafuegos      |

<hr>

**_Salida de muestra de escaneo SYN de Nmap_**<br>

```bash
    ┌──(root㉿Kali)-[~]
    └─# nmap -sS 192.168.88.251
    Starting Nmap 7.80 ( https://nmap.org )
    Nmap scan report for 192.168.88.251
    Host is up (0.00011s latency).
    Not shown: 992 closed ports
    PORT     STATE SERVICE
    22/tcp   open  ssh
    80/tcp   open  http
    139/tcp  open  netbios-ssn
    445/tcp  open  microsoft-ds
    3306/tcp open  mysql
    8888/tcp open  sun-answerbook
    9000/tcp open  cslistener
    9090/tcp open  zeus-admin
    MAC Address: 1E:BD:4F:AA:C6:BA (Unknown)
    Nmap done: 1 IP address (1 host up) scanned in 0.23 seconds
```

El ejemplo muestra cómo ejecutar un escaneo TCP SYN mediante Nmap especificando la opción `-sS` en un host con la dirección IP 192.168.88.251. Como puede ver, este sistema tiene varios puertos abiertos. En algunas situaciones, querrá utilizar las diferentes opciones de Nmap en sus escaneos para obtener los resultados que busca.